## 扫一扫

### 功能

TODO

## 第三方接口

### 简单示例

假设第三方提供的接口链接为：`https://third-part.com/api`

```
post https://third-part.com/api

params:
{
  "store_id": "门店ID",
  "code_info": "条形码值"
}

response
{
  "title": "条形码商品名称",
  "chart_data": {
    "title": "销售金额",
    "data": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
  },
  "tabs": [
    {
      "title": "概况",
      "data": [
        ["key", "value"]
      ]
    },
    {
      "title": "同区",
      "data": [
        ["门店", "昨天销售", "本月销售", "库存数量", "周转天数"]
      ]
    }
  ]
}
```

### 字段明细

- 呼叫第三方 API 使用的 HTTP Method 为: **POST**
- 呼叫第三方 API 时会传两个参数: 门店ID、条形码值
- 第三方 API 的响应体
    - `Content-Type: application/json`
    - 响应体结构如上述简介，下面会详细讲解业务需求

![扫码后展示界面](/assets/images/scan-sku-result.jpeg)

扫描商品形码后用户看到的展示界面共三部分：

- 商品名称

  ```
  "title": "条形码商品名称"
  ```

  若未查询到该条形码则响应："未查询到 {条形码}", 后面两部分可忽略

- 过去十五天的销售金额趋势图

  ```
  "chart_data": {
    "title": "销售金额",
    "data": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
  }
  ```

  - `title`: 后续可以根据需求可自定义调整
  - `data`: 数组，过去十五天的销售金额值

- 条形码商品状态及同区情况
  - 条形码商品状态

    ```
    {
      "title": "概况",
      "data": [
        ["key", "value"]
      ]
    }
    ```

    - `title`: 标签标题，后续可根据需求调整
    - `data`: 二维数组，第二维数组为 key-value 对应的两个值

    实际需求中的响应值：

    ```
    {
      "title": "概况",
      "data": [
        ["商品名称", "巧妈妈鸡蛋布甸264g"],
        ["昨日销售", 0],
        ["本月销售", 19.8],
        ["当月毛利率", 0.0606],
        ["商品状态", "B 正常状态"],
        ["正常售价", 12.8],
        ["当前售价", 12.8],
        ["是否促销", "否"],
        ["DMS", 0.011],
        ["库存金额", 61.22],
        ["库存数量", 6],
        ["在途数量", 0],
        ["周转天数", 45],
        ["异常状态", ""],
        ["所属区名", "连伟"]
      ]
    }
    ```

    *建议 data 数组第一行字体加黑，建议存放标题*

  - 同区情况

    ```
    {
      "title": "同区",
      "data": [
        ["门店", "昨天销售", "本月销售", "库存数量", "周转天数"]
      ]
    }
    ```

    - `title`: 标签标题，后续可根据需求调整
    - `data`: 二维数组，第二维数组值为: "门店", "昨天销售", "本月销售", "库存数量", "周转天数"

    实际需求中的响应值：

    ```
    {
      "title": "同区",
      "data": [
        ["门店", "昨天销售", "本月销售", "库存数量", "周转天数"],
        ["万荣路店", "4", "21", "12", "14"],
        ["不夜城店", "4", "21", "12", "14"]
      ]
    }
    ```

    *建议 data 数组第一行字体加黑，建议存放标题*

### 完整响应示例

未查询到条形码商品时:

```
{
  "title": "未查询到 {条形码}"
}
```

查询到条形码商品时:

```
{
  "title": "条形码商品名称",
  "chart_data": {
    "title": "销售金额",
    "data": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
  },
  "tabs": [
    {
      "title": "概况",
      "data": [
        ["商品名称", "巧妈妈鸡蛋布甸264g"],
        ["昨日销售", 0],
        ["本月销售", 19.8],
        ["当月毛利率", 0.0606],
        ["商品状态", "B 正常状态"],
        ["正常售价", 12.8],
        ["当前售价", 12.8],
        ["是否促销", "否"],
        ["DMS", 0.011],
        ["库存金额", 61.22],
        ["库存数量", 6],
        ["在途数量", 0],
        ["周转天数", 45],
        ["异常状态", ""],
        ["所属区名", "连伟"]
      ]
    },
    {
      "title": "同区",
      "data": [
        ["万荣路店", "4", "21", "12", "14"],
        ["不夜城店", "4", "21", "12", "14"]
      ]
    }
  ]
}
```
